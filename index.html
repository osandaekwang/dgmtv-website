<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오산대광교회 & DGM TV</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        /* 탭 컨텐츠 표시/숨김 */
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block !important;
        }
        
        /* 카테고리 버튼 기본 스타일 */
        .tab-button {
            min-width: 140px !important;
            height: 48px !important;
            padding: 12px 20px !important;
            margin: 4px !important;
            border-radius: 12px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            text-align: center !important;
            font-size: 14px !important;
            white-space: nowrap !important;
            box-sizing: border-box !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            border: 2px solid transparent !important;
            font-weight: 500 !important;
            
            /* 드래그 방지 */
            -webkit-user-select: none !important;
            -moz-user-select: none !important;
            -ms-user-select: none !important;
            user-select: none !important;
            -webkit-tap-highlight-color: transparent !important;
            -webkit-touch-callout: none !important;
            outline: none !important;
            touch-action: manipulation !important;
        }
        
        /* 비활성화 상태 */
        .tab-button:not(.active) {
            background: #f3f4f6 !important;
            color: #6b7280 !important;
            border: 2px solid #e5e7eb !important;
        }
        
        /* 활성화 상태 - 강력한 우선순위 */
        .tab-button.active {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%) !important;
            color: white !important;
            font-weight: bold !important;
            transform: scale(1.05) !important;
            box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4) !important;
            border: 2px solid rgba(255, 255, 255, 0.3) !important;
            position: relative !important;
        }
        
        /* 활성화 표시 강화 - 하단 라인 */
        .tab-button.active::after {
            content: '' !important;
            position: absolute !important;
            bottom: -3px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            width: 30px !important;
            height: 4px !important;
            background: white !important;
            border-radius: 2px !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2) !important;
        }
        
        /* 호버 효과 */
        .tab-button:not(.active):hover {
            background: #e5e7eb !important;
            color: #374151 !important;
            transform: translateY(-1px) !important;
        }
        
        /* 포커스 상태 완전 제거 */
        .tab-button:focus,
        .tab-button:active {
            outline: none !important;
            box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4) !important;
            -webkit-tap-highlight-color: transparent !important;
        }
        
        /* 채널 버튼 */
        .channel-button {
            outline: none !important;
            -webkit-tap-highlight-color: transparent !important;
            user-select: none !important;
        }
        .channel-button:focus,
        .channel-button:active {
            outline: none !important;
            box-shadow: none !important;
        }
        
        /* PC 언어변경 버튼 */
        @media (min-width: 769px) {
            .language-toggle {
                position: absolute;
                top: 15px;
                right: 20px;
                background: rgba(79, 70, 229, 0.95);
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-radius: 25px;
                padding: 6px;
                backdrop-filter: blur(10px);
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            }
            
            .language-toggle button {
                color: white;
                background: transparent;
                border: none;
                padding: 8px 16px;
                border-radius: 18px;
                transition: all 0.3s ease;
                font-weight: 500;
            }
            
            .language-toggle button.active {
                background: rgba(255, 255, 255, 0.9);
                color: #4f46e5;
                font-weight: bold;
                transform: scale(1.05);
                box-shadow: 0 2px 8px rgba(255,255,255,0.3);
            }
            
            /* 메뉴와 겹치지 않게 조정 */
            .main-nav {
                margin-right: 120px;
            }
        }
        
        /* 모바일 언어변경 버튼 */
        @media (max-width: 768px) {
            .language-toggle {
                position: fixed;
                bottom: 25px;
                right: 25px;
                z-index: 999;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 30px;
                padding: 12px 16px;
                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
                border: 2px solid rgba(255, 255, 255, 0.2);
                backdrop-filter: blur(15px);
                animation: float 3s ease-in-out infinite;
            }
            
            .language-toggle button {
                color: white;
                background: transparent;
                border: none;
                padding: 6px 10px;
                border-radius: 15px;
                transition: all 0.3s ease;
                font-weight: 500;
                text-shadow: 0 1px 2px rgba(0,0,0,0.1);
            }
            
            .language-toggle button.active {
                background: rgba(255, 255, 255, 0.25);
                color: white;
                font-weight: bold;
                transform: scale(1.1);
                box-shadow: 0 2px 8px rgba(255,255,255,0.2);
            }
            
            .tab-button {
                min-width: 120px !important;
                height: 44px !important;
                font-size: 13px !important;
            }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        
        /* 카테고리 네비게이션 정렬 */
        .tab-navigation {
            display: flex !important;
            flex-wrap: wrap !important;
            justify-content: center !important;
            gap: 8px !important;
            margin-bottom: 24px !important;
            padding: 0 16px !important;
        }
        
        /* 영상 그리드 - 2개씩 표시 */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* 팝업 및 모달 스타일 */
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
            backdrop-filter: blur(5px);
        }
        
        .popup-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            animation: popupAppear 0.3s ease-out;
        }
        
        @keyframes popupAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            text-align: center;
            position: relative;
        }
        
        .modal-body {
            padding: 30px 20px;
            text-align: center;
        }
        
        .modal-footer {
            padding: 0 20px 20px;
            text-align: center;
        }
        
        .bank-info {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #e2e8f0;
        }
        
        .bank-name {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 5px;
        }
        
        .account-number {
            font-size: 24px;
            font-weight: bold;
            color: #1e293b;
            font-family: 'Courier New', monospace;
            letter-spacing: 1px;
            margin: 10px 0;
        }
        
        .account-holder {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 15px;
        }
        
        .copy-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .copy-btn:hover {
            background: #059669;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .close {
            color: rgba(255,255,255,0.7);
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover,
        .close:focus {
            color: white;
        }
        
        .close-btn {
            background: #6b7280;
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            background: #4b5563;
        }
        
        .donation-note {
            font-size: 14px;
            color: #6b7280;
            line-height: 1.5;
        }
        
        .toast {
            position: fixed;
            bottom: 100px;
            right: 30px;
            background: #10b981;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 10001;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
    <script>

// 공통 데이터 구조 및 동기화 시스템
window.DGMTV_SHARED = window.DGMTV_SHARED || {
    // 데이터 키 상수
    KEYS: {
        NEWS: 'dgmtv_news',
        RESOURCES: 'dgmtv_resources', 
        FOOTER_TEXT: 'dgmtv_footer_text',
        VISITOR_STATS: 'dgmtv_visitor_stats',
        SETTINGS: 'dgmtv_settings',
        LAST_UPDATE: 'dgmtv_last_update'
    },

    // 데이터 가져오기
    getData: function(key, defaultValue = null) {
        try {
            const data = localStorage.getItem(key);
            return data ? JSON.parse(data) : defaultValue;
        } catch (e) {
            console.error('데이터 읽기 오류:', e);
            return defaultValue;
        }
    },

    // 데이터 저장
    setData: function(key, value) {
        try {
            localStorage.setItem(key, JSON.stringify(value));
            localStorage.setItem(this.KEYS.LAST_UPDATE, Date.now());
            this.notifyUpdate(key, value);
            return true;
        } catch (e) {
            console.error('데이터 저장 오류:', e);
            return false;
        }
    },

    // 업데이트 알림
    notifyUpdate: function(key, value) {
        // 다른 창/탭에 변경사항 알림
        try {
            window.dispatchEvent(new CustomEvent('dgmtv_data_update', {
                detail: { key: key, value: value, timestamp: Date.now() }
            }));
        } catch (e) {
            console.error('업데이트 알림 오류:', e);
        }
    },

    // 실시간 동기화 설정
    setupSync: function(callback) {
        // localStorage 변경 감지
        window.addEventListener('storage', function(e) {
            if (e.key && e.key.startsWith('dgmtv_')) {
                if (callback) callback(e.key, e.newValue);
            }
        });

        // 같은 창에서의 변경사항 감지
        window.addEventListener('dgmtv_data_update', function(e) {
            if (callback) callback(e.detail.key, e.detail.value);
        });
    },

    // 초기 데이터 설정
    initializeData: function() {
        // 기본 뉴스 데이터
        if (!this.getData(this.KEYS.NEWS)) {
            this.setData(this.KEYS.NEWS, []);
        }

        // 기본 자료 데이터
        if (!this.getData(this.KEYS.RESOURCES)) {
            this.setData(this.KEYS.RESOURCES, []);
        }

        // 기본 푸터 텍스트
        if (!this.getData(this.KEYS.FOOTER_TEXT)) {
            this.setData(this.KEYS.FOOTER_TEXT, "<span class="footer-text">\1</span>");
        }

        // 기본 방문자 통계
        if (!this.getData(this.KEYS.VISITOR_STATS)) {
            this.setData(this.KEYS.VISITOR_STATS, {
                daily: 0,
                total: 0,
                lastVisitDate: new Date().toISOString().split('T')[0]
            });
        }

        // 기본 설정
        if (!this.getData(this.KEYS.SETTINGS)) {
            this.setData(this.KEYS.SETTINGS, {
                siteName: "오산대광교회",
                description: "<span class="footer-text">\1</span>",
                phone: "031-377-0675",
                email: "derek1817@naver.com",
                address: "경기도 오산시 궐리사로46번길 60-5"
            });
        }
    }
};

// 초기화
window.DGMTV_SHARED.initializeData();

</script>
    <script>

// 홈페이지 데이터 동기화 시스템
window.DGMTV_HOMEPAGE = {
    // 홈페이지 데이터 업데이트
    updateContent: function() {
        this.updateNews();
        this.updateResources();
        this.updateFooter();
        this.updateVisitorStats();
    },

    // 뉴스 업데이트
    updateNews: function() {
        const newsData = window.DGMTV_SHARED.getData(window.DGMTV_SHARED.KEYS.NEWS, []);
        const newsContainer = document.querySelector('.news-container, #news-container, .news-list');

        if (newsContainer && newsData.length > 0) {
            const newsHTML = newsData.slice(0, 6).map(news => `
                <div class="news-item bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
                    <div class="p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded">${news.category || '일반'}</span>
                            <span class="text-xs text-gray-500">${new Date(news.date).toLocaleDateString('ko-KR')}</span>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2 line-clamp-2">${news.title}</h3>
                        <p class="text-gray-600 text-sm line-clamp-3">${news.content}</p>
                    </div>
                </div>
            `).join('');

            newsContainer.innerHTML = newsHTML;
        }
    },

    // 자료 업데이트
    updateResources: function() {
        const resourcesData = window.DGMTV_SHARED.getData(window.DGMTV_SHARED.KEYS.RESOURCES, []);
        const resourcesContainer = document.querySelector('.resources-container, #resources-container, .resources-list');

        if (resourcesContainer && resourcesData.length > 0) {
            const resourcesHTML = resourcesData.slice(0, 6).map(resource => `
                <div class="resource-item bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
                    <div class="p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs text-green-600 bg-green-100 px-2 py-1 rounded">${resource.type || '자료'}</span>
                            <span class="text-xs text-gray-500">${new Date(resource.date).toLocaleDateString('ko-KR')}</span>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2">${resource.title}</h3>
                        <p class="text-gray-600 text-sm">${resource.description}</p>
                    </div>
                </div>
            `).join('');

            resourcesContainer.innerHTML = resourcesHTML;
        }
    },

    // 푸터 업데이트
    updateFooter: function() {
        const footerText = window.DGMTV_SHARED.getData(window.DGMTV_SHARED.KEYS.FOOTER_TEXT);
        const footerElements = document.querySelectorAll('.footer-text, #footer-text, .church-description');

        if (footerText && footerElements.length > 0) {
            footerElements.forEach(element => {
                element.textContent = footerText;
            });
        }
    },

    // 방문자 통계 업데이트
    updateVisitorStats: function() {
        const stats = window.DGMTV_SHARED.getData(window.DGMTV_SHARED.KEYS.VISITOR_STATS);

        if (stats) {
            const dailyElements = document.querySelectorAll('.daily-visitors, #daily-visitors');
            const totalElements = document.querySelectorAll('.total-visitors, #total-visitors');

            dailyElements.forEach(el => el.textContent = stats.daily || 0);
            totalElements.forEach(el => el.textContent = stats.total || 0);
        }
    },

    // 방문자 카운트 증가
    incrementVisitorCount: function() {
        const today = new Date().toISOString().split('T')[0];
        const stats = window.DGMTV_SHARED.getData(window.DGMTV_SHARED.KEYS.VISITOR_STATS, {
            daily: 0,
            total: 0,
            lastVisitDate: today
        });

        // 새로운 날이면 일일 방문자 초기화
        if (stats.lastVisitDate !== today) {
            stats.daily = 1;
            stats.lastVisitDate = today;
        } else {
            // 세션 확인 (중복 방문 방지)
            const sessionVisited = sessionStorage.getItem('dgmtv_session_visited');
            if (!sessionVisited) {
                stats.daily++;
                sessionStorage.setItem('dgmtv_session_visited', 'true');
            }
        }

        // 총 방문자 수 증가 (첫 방문만)
        const hasVisited = localStorage.getItem('dgmtv_has_visited');
        if (!hasVisited) {
            stats.total++;
            localStorage.setItem('dgmtv_has_visited', 'true');
        }

        window.DGMTV_SHARED.setData(window.DGMTV_SHARED.KEYS.VISITOR_STATS, stats);
        this.updateVisitorStats();
    },

    // 초기화
    init: function() {
        // 실시간 동기화 설정
        window.DGMTV_SHARED.setupSync((key, value) => {
            this.updateContent();
        });

        // 초기 콘텐츠 로드
        this.updateContent();

        // 방문자 카운트
        this.incrementVisitorCount();

        // 주기적 업데이트 (5초마다)
        setInterval(() => {
            this.updateContent();
        }, 5000);
    }
};

// DOM 로드 완료 후 초기화
document.addEventListener('DOMContentLoaded', function() {
    window.DGMTV_HOMEPAGE.init();
});

</script>
</head>
<body class="bg-gray-50">
    <!-- 팝업 공지사항 -->
    <div id="sitePopup" class="popup-overlay">
        <div class="popup-content">
            <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-bold text-gray-800" id="popupTitle">공지사항</h3>
                <button onclick="closeSitePopup()" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="popupContent" class="text-gray-600 mb-6">
                <p>중요한 공지사항이 있습니다.</p>
            </div>
            <div class="flex gap-3">
                <button onclick="closeSitePopup()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition">
                    닫기
                </button>
                <button onclick="dontShowToday()" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition">
                    오늘 하루 보지 않기
                </button>
            </div>
        </div>
    </div>

    <!-- 온라인 헌금 모달 -->
    <div id="donationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>온라인 헌금</h2>
                <span class="close" onclick="closeDonationModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="bank-info">
                    <p class="bank-label text-lg font-semibold text-gray-700 mb-3">헌금 계좌</p>
                    <div class="bank-details">
                        <p class="bank-name">농협은행</p>
                        <p class="account-number">170354-55-000829</p>
                        <p class="account-holder">예금주: 오산산성교회(오산대광교회 옛이름)</p>
                    </div>
                    <button class="copy-btn" onclick="copyAccountNumber()">
                        📋 계좌 복사
                    </button>
                </div>
                <p class="donation-note">
                    헌금은 하나님께 드리는 예배의 한 부분입니다.<br>
                    기쁨과 감사함으로 드려주세요.
                </p>
            </div>
            <div class="modal-footer">
                <button class="close-btn" onclick="closeDonationModal()">닫기</button>
            </div>
        </div>
    </div>

    <!-- Toast 메시지 -->
    <div id="toast" class="toast">
        <span id="toastMessage"></span>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-lg relative">
        <!-- 언어 변경 버튼 -->
        <div class="language-toggle">
            <button onclick="changeLanguage('ko')" class="active" id="koBtn" data-translate-skip>한국어</button>
            <button onclick="changeLanguage('en')" id="enBtn" data-translate-skip>English</button>
        </div>
        
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between py-4">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-church text-indigo-600 text-3xl"></i>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800" data-translate="siteName">오산대광교회 & DGM TV</h1>
                        <p class="text-sm text-gray-600" data-translate="siteSubtitle">영감을 주는 이야기와 음악이 만나는 곳</p>
                    </div>
                </div>
                <nav class="hidden md:flex space-x-6 main-nav">
                    <a href="#home" class="text-gray-700 hover:text-indigo-600 transition" data-translate="navHome">홈</a>
                    <a href="#videos" class="text-gray-700 hover:text-indigo-600 transition" data-translate="navVideos">영상</a>
                    <a href="#news" class="text-gray-700 hover:text-indigo-600 transition" data-translate="navNews">교회소식</a>
                    <a href="#resources" class="text-gray-700 hover:text-indigo-600 transition" data-translate="navResources">자료실</a>
                </nav>
                <button class="md:hidden text-gray-700 hover:text-indigo-600" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-white border-t">
            <nav class="container mx-auto px-4 py-4 space-y-2">
                <a href="#home" class="block py-2 text-gray-700 hover:text-indigo-600" data-translate="navHome">홈</a>
                <a href="#videos" class="block py-2 text-gray-700 hover:text-indigo-600" data-translate="navVideos">영상</a>
                <a href="#news" class="block py-2 text-gray-700 hover:text-indigo-600" data-translate="navNews">교회소식</a>
                <a href="#resources" class="block py-2 text-gray-700 hover:text-indigo-600" data-translate="navResources">자료실</a>
            </nav>
        </div>
    </header>

    <!-- Main Banner -->
    <section id="home" class="gradient-bg text-white py-20">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl md:text-6xl font-bold mb-6" data-translate="bannerTitle">믿음과 소망, 그리고 사랑</h2>
            <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-4">
                <a href="https://www.youtube.com/channel/UCcwM7j_1eMYRkFMrjUPVPRw" target="_blank" 
                   class="bg-red-600 hover:bg-red-700 px-8 py-3 rounded-lg text-white font-semibold transition">
                    <i class="fab fa-youtube mr-2"></i><span data-translate="churchChannel">오산대광교회 채널</span>
                </a>
                <a href="https://www.youtube.com/channel/UCARlnnL9L0Y6ZTxeVAV6j0g" target="_blank" 
                   class="bg-red-600 hover:bg-red-700 px-8 py-3 rounded-lg text-white font-semibold transition">
                    <i class="fab fa-youtube mr-2"></i><span data-translate="dgmtvChannel">DGM TV 채널</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Video Section -->
    <section id="videos" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">
                <i class="fas fa-video mr-3 text-indigo-600"></i><span data-translate="videoContent">영상 콘텐츠</span>
            </h2>
            
            <!-- Channel Navigation -->
            <div class="flex justify-center mb-8 space-x-4">
                <button onclick="switchChannel('osandaegwang')" id="osandaegwangBtn" 
                        class="channel-button px-8 py-3 rounded-lg bg-indigo-600 text-white font-semibold transition hover:bg-indigo-700"
                        data-translate="churchChannelTab">오산대광교회 채널</button>
                <button onclick="switchChannel('dgmtv')" id="dgmtvBtn" 
                        class="channel-button px-8 py-3 rounded-lg bg-gray-200 text-gray-700 font-semibold transition hover:bg-gray-300"
                        data-translate="dgmtvChannelTab">DGM TV 채널</button>
            </div>
            
            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button onclick="showTab('worship')" id="worshipBtn" class="tab-button active">
                    <i class="fas fa-praying-hands mr-2"></i><span data-translate="onlineWorship">온라인예배</span>
                </button>
                <button onclick="showTab('sermon')" id="sermonBtn" class="tab-button">
                    <i class="fas fa-bible mr-2"></i><span data-translate="sermonVideos">설교영상</span>
                </button>
                <button onclick="showTab('podcast')" id="podcastBtn" class="tab-button">
                    <i class="fas fa-podcast mr-2"></i><span data-translate="podcast">팟캐스트</span>
                </button>
                <button onclick="showTab('ukulele')" id="ukuleleBtn" class="tab-button">
                    <i class="fas fa-music mr-2"></i><span data-translate="ukulelePraise">우쿨 찬양단</span>
                </button>
                <button onclick="showTab('quiz')" id="quizBtn" class="tab-button">
                    <i class="fas fa-question-circle mr-2"></i><span data-translate="bibleQuiz">성경 퀴즈</span>
                </button>
                <button onclick="showTab('meditation')" id="meditationBtn" class="tab-button">
                    <span class="mr-2">🧘</span><span data-translate="meditation">묵상</span>
                </button>
            </div>

            <!-- Tab Contents -->
            <div id="worship" class="tab-content active">
                <div id="worshipVideos" class="video-grid">
                    <div class="text-center py-8 col-span-full">
                        <i class="fas fa-spinner fa-spin text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600" data-translate="loadingVideos">영상을 불러오는 중...</p>
                    </div>
                </div>
            </div>

            <div id="sermon" class="tab-content">
                <div id="sermonVideos" class="video-grid">
                    <div class="text-center py-8 col-span-full">
                        <i class="fas fa-spinner fa-spin text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600" data-translate="loadingVideos">영상을 불러오는 중...</p>
                    </div>
                </div>
            </div>

            <div id="podcast" class="tab-content">
                <div id="podcastVideos" class="video-grid">
                    <div class="text-center py-8 col-span-full">
                        <i class="fas fa-spinner fa-spin text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600" data-translate="loadingVideos">영상을 불러오는 중...</p>
                    </div>
                </div>
            </div>

            <div id="ukulele" class="tab-content">
                <div id="ukuleleVideos" class="video-grid">
                    <div class="text-center py-8 col-span-full">
                        <i class="fas fa-spinner fa-spin text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600" data-translate="loadingVideos">영상을 불러오는 중...</p>
                    </div>
                </div>
            </div>

            <div id="quiz" class="tab-content">
                <div id="quizVideos" class="video-grid">
                    <div class="text-center py-8 col-span-full">
                        <i class="fas fa-spinner fa-spin text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600" data-translate="loadingVideos">영상을 불러오는 중...</p>
                    </div>
                </div>
            </div>

            <div id="meditation" class="tab-content">
                <div id="meditationVideos" class="video-grid">
                    <div class="text-center py-8 col-span-full">
                        <i class="fas fa-spinner fa-spin text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600" data-translate="loadingVideos">영상을 불러오는 중...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- News Section -->
    <section id="news" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">
                <i class="fas fa-bullhorn mr-3 text-indigo-600"></i><span data-translate="churchNews">교회 소식</span>
            </h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <article class="bg-gray-50 rounded-lg overflow-hidden shadow-md">
                    <div class="h-48 bg-gradient-to-r from-blue-400 to-indigo-500 flex items-center justify-center">
                        <i class="fas fa-heart text-4xl text-white"></i>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center mb-2">
                            <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full" data-translate="important">중요</span>
                            <span class="text-gray-500 text-sm ml-2">2025.01.15</span>
                        </div>
                        <h3 class="text-lg font-semibold mb-3" data-translate="news1Title">사랑의 나눔 봉사활동</h3>
                        <p class="text-gray-600 text-sm mb-4" data-translate="news1Content">지역사회와 함께하는 따뜻한 나눔의 시간을 가졌습니다. 많은 성도님들의 참여로...</p>
                        <a href="#" class="text-indigo-600 text-sm font-semibold hover:text-indigo-800" data-translate="readMore">자세히 보기</a>
                    </div>
                </article>

                <article class="bg-gray-50 rounded-lg overflow-hidden shadow-md">
                    <div class="h-48 bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center">
                        <i class="fas fa-users text-4xl text-white"></i>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center mb-2">
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full" data-translate="event">행사</span>
                            <span class="text-gray-500 text-sm ml-2">2025.01.12</span>
                        </div>
                        <h3 class="text-lg font-semibold mb-3" data-translate="news2Title">신년 감사예배</h3>
                        <p class="text-gray-600 text-sm mb-4" data-translate="news2Content">2025년 첫 번째 주일, 하나님께 감사드리며 새해를 시작하는 은혜로운 시간이었습니다...</p>
                        <a href="#" class="text-indigo-600 text-sm font-semibold hover:text-indigo-800" data-translate="readMore">자세히 보기</a>
                    </div>
                </article>

                <article class="bg-gray-50 rounded-lg overflow-hidden shadow-md">
                    <div class="h-48 bg-gradient-to-r from-purple-400 to-pink-500 flex items-center justify-center">
                        <i class="fas fa-calendar-check text-4xl text-white"></i>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center mb-2">
                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full" data-translate="upcoming">예정</span>
                            <span class="text-gray-500 text-sm ml-2">2025.01.20</span>
                        </div>
                        <h3 class="text-lg font-semibold mb-3" data-translate="news3Title">청년 수련회 안내</h3>
                        <p class="text-gray-600 text-sm mb-4" data-translate="news3Content">오는 2월, 청년들을 위한 특별한 수련회가 준비되어 있습니다. 많은 참여 바랍니다...</p>
                        <a href="#" class="text-indigo-600 text-sm font-semibold hover:text-indigo-800" data-translate="readMore">자세히 보기</a>
                    </div>
                </article>
            </div>

            <div class="text-center mt-12">
                <button class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-semibold transition" data-translate="viewAllNews">
                    모든 소식 보기
                </button>
            </div>
        </div>
    </section>

    <!-- Resources Section -->
    <section id="resources" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">
                <i class="fas fa-book mr-3 text-indigo-600"></i><span data-translate="resources">자료실</span>
            </h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-newspaper text-2xl text-indigo-600 mr-3"></i>
                        <h3 class="text-xl font-semibold" data-translate="christianArticles">기독교 기사</h3>
                    </div>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-blue-600 hover:underline text-sm" data-translate="article1">현대 기독교의 사회적 역할</a></li>
                        <li><a href="#" class="text-blue-600 hover:underline text-sm" data-translate="article2">교회와 지역사회 연결</a></li>
                        <li><a href="#" class="text-blue-600 hover:underline text-sm" data-translate="article3">청년 신앙 교육의 중요성</a></li>
                        <li><a href="#" class="text-blue-600 hover:underline text-sm" data-translate="article4">가정 예배의 회복</a></li>
                    </ul>
                    <button class="mt-4 text-indigo-600 font-semibold text-sm hover:text-indigo-800">
                        <span data-translate="moreArticles">더 많은 기사 보기</span> <i class="fas fa-arrow-right ml-1"></i>
                    </button>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-graduation-cap text-2xl text-indigo-600 mr-3"></i>
                        <h3 class="text-xl font-semibold" data-translate="theologyPapers">신학 논문</h3>
                    </div>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-blue-600 hover:underline text-sm" data-translate="paper1">종교개혁과 현대 교회</a></li>
                        <li><a href="#" class="text-blue-600 hover:underline text-sm" data-translate="paper2">성경 해석학 연구</a></li>
                        <li><a href="#" class="text-blue-600 hover:underline text-sm" data-translate="paper3">목회상담학의 발전</a></li>
                        <li><a href="#" class="text-blue-600 hover:underline text-sm" data-translate="paper4">선교학과 문화적응</a></li>
                    </ul>
                    <button class="mt-4 text-indigo-600 font-semibold text-sm hover:text-indigo-800">
                        <span data-translate="morePapers">논문 목록 보기</span> <i class="fas fa-arrow-right ml-1"></i>
                    </button>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-download text-2xl text-indigo-600 mr-3"></i>
                        <h3 class="text-xl font-semibold" data-translate="downloads">다운로드</h3>
                    </div>
                    <ul class="space-y-3">
                        <li>
                            <a href="#" class="flex items-center text-blue-600 hover:underline text-sm">
                                <i class="fas fa-file-pdf mr-2"></i><span data-translate="bulletin">주보 (이번 주)</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center text-blue-600 hover:underline text-sm">
                                <i class="fas fa-file-pdf mr-2"></i><span data-translate="studyMaterial">성경공부 교재</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center text-blue-600 hover:underline text-sm">
                                <i class="fas fa-music mr-2"></i><span data-translate="hymnSheet">찬양 악보</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center text-blue-600 hover:underline text-sm">
                                <i class="fas fa-calendar mr-2"></i><span data-translate="yearlySchedule">연간 행사계획</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-semibold mb-4" data-translate="siteName">오산대광교회 & DGM TV</h3>
                    <p class="text-gray-300 text-sm mb-4" data-translate="footerDescription">
                        하나님의 사랑을 실천하며<br>
                        지역사회와 함께 성장하는 교회
                    </p>
                    <div class="flex space-x-4">
                        <a href="https://www.youtube.com/channel/UCcwM7j_1eMYRkFMrjUPVPRw" target="_blank" class="text-gray-300 hover:text-white">
                            <i class="fab fa-youtube text-xl"></i>
                        </a>
                        <a href="https://www.youtube.com/channel/UCARlnnL9L0Y6ZTxeVAV6j0g" target="_blank" class="text-gray-300 hover:text-white">
                            <i class="fab fa-youtube text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4" data-translate="serviceTime">예배시간</h4>
                    <ul class="text-gray-300 text-sm space-y-2">
                        <li data-translate="sundayService">주일예배: 일요일 오전 11시</li>
                        <li data-translate="afternoonService">오후예배: 일요일 오후 2시</li>
                        <li data-translate="dawnPrayer">새벽기도회: 일요일 오전 4시</li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4" data-translate="contact">연락처</h4>
                    <ul class="text-gray-300 text-sm space-y-2">
                        <li><i class="fas fa-phone mr-2"></i><a href="tel:031-377-0675" class="hover:text-white">031-377-0675</a></li>
                        <li><i class="fas fa-envelope mr-2"></i><a href="/cdn-cgi/l/email-protection#0c68697e69673d343d3b4c626d7a697e226f6361" class="hover:text-white"><span class="__cf_email__" data-cfemail="096d6c7b6c623831383e4967687f6c7b276a6664">[email&#160;protected]</span></a></li>
                        <li>
                            <i class="fas fa-map-marker-alt mr-2"></i>
                            <a href="https://maps.google.com/maps?q=경기도+오산시+궐리사로46번길+60-5" target="_blank" class="hover:text-white">
                                경기도 오산시 궐리사로46번길 60-5
                            </a>
                        </li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4" data-translate="quickLinks">Quick Links</h4>
                    <ul class="text-gray-300 text-sm space-y-2">
                        <li><a href="#videos" class="hover:text-white" data-translate="navVideos">영상 콘텐츠</a></li>
                        <li><a href="#resources" class="hover:text-white" data-translate="navResources">자료실</a></li>
                        <li><a href="#news" class="hover:text-white" data-translate="navNews">교회 소식</a></li>
                        <li><a href="#" onclick="openDonationModal()" class="hover:text-white" data-translate="onlineDonation">온라인 헌금</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-gray-400 text-sm" data-translate="copyright">© 2025 오산대광교회 & DGM TV. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // 번역 데이터
        const translations = {
            ko: {
                siteName: "오산대광교회 & DGM TV",
                siteSubtitle: "영감을 주는 이야기와 음악이 만나는 곳",
                navHome: "홈",
                navVideos: "영상",
                navNews: "교회소식",
                navResources: "자료실",
                bannerTitle: "믿음과 소망, 그리고 사랑",
                churchChannel: "오산대광교회 채널",
                dgmtvChannel: "DGM TV 채널",
                videoContent: "영상 콘텐츠",
                churchChannelTab: "오산대광교회 채널",
                dgmtvChannelTab: "DGM TV 채널",
                onlineWorship: "온라인예배",
                sermonVideos: "설교영상",
                podcast: "팟캐스트",
                ukulelePraise: "우쿨 찬양단",
                bibleQuiz: "성경 퀴즈",
                meditation: "묵상",
                loadingVideos: "영상을 불러오는 중...",
                noVideos: "해당 카테고리의 영상이 없습니다.",
                watchVideo: "▶ 영상보기",
                churchNews: "교회 소식",
                important: "중요",
                event: "행사",
                upcoming: "예정",
                news1Title: "사랑의 나눔 봉사활동",
                news1Content: "지역사회와 함께하는 따뜻한 나눔의 시간을 가졌습니다. 많은 성도님들의 참여로...",
                news2Title: "신년 감사예배",
                news2Content: "2025년 첫 번째 주일, 하나님께 감사드리며 새해를 시작하는 은혜로운 시간이었습니다...",
                news3Title: "청년 수련회 안내",
                news3Content: "오는 2월, 청년들을 위한 특별한 수련회가 준비되어 있습니다. 많은 참여 바랍니다...",
                readMore: "자세히 보기",
                viewAllNews: "모든 소식 보기",
                resources: "자료실",
                christianArticles: "기독교 기사",
                article1: "현대 기독교의 사회적 역할",
                article2: "교회와 지역사회 연결",
                article3: "청년 신앙 교육의 중요성",
                article4: "가정 예배의 회복",
                moreArticles: "더 많은 기사 보기",
                theologyPapers: "신학 논문",
                paper1: "종교개혁과 현대 교회",
                paper2: "성경 해석학 연구",
                paper3: "목회상담학의 발전",
                paper4: "선교학과 문화적응",
                morePapers: "논문 목록 보기",
                downloads: "다운로드",
                bulletin: "주보 (이번 주)",
                studyMaterial: "성경공부 교재",
                hymnSheet: "찬양 악보",
                yearlySchedule: "연간 행사계획",
                footerDescription: "하나님의 사랑을 실천하며\n지역사회와 함께 성장하는 교회",
                serviceTime: "예배시간",
                sundayService: "주일예배: 일요일 오전 11시",
                afternoonService: "오후예배: 일요일 오후 2시",
                dawnPrayer: "새벽기도회: 일요일 오전 4시",
                contact: "연락처",
                quickLinks: "Quick Links",
                onlineDonation: "온라인 헌금",
                copyright: "© 2025 오산대광교회 & DGM TV. All rights reserved."
            },
            en: {
                siteName: "Osan Daegwang Church & DGM TV",
                siteSubtitle: "Where inspiring stories and music meet",
                navHome: "Home",
                navVideos: "Videos",
                navNews: "Church News",
                navResources: "Resources",
                bannerTitle: "Faith, Hope, and Love",
                churchChannel: "Osan Daegwang Church Channel",
                dgmtvChannel: "DGM TV Channel",
                videoContent: "Video Contents",
                churchChannelTab: "Osan Daegwang Church",
                dgmtvChannelTab: "DGM TV",
                onlineWorship: "Online Worship",
                sermonVideos: "Sermons",
                podcast: "Podcast",
                ukulelePraise: "Ukulele Praise",
                bibleQuiz: "Bible Quiz",
                meditation: "Meditation",
                loadingVideos: "Loading videos...",
                noVideos: "No videos in this category.",
                watchVideo: "▶ Watch Video",
                churchNews: "Church News",
                important: "Important",
                event: "Event",
                upcoming: "Upcoming",
                news1Title: "Sharing Love Volunteer Activity",
                news1Content: "We had a warm sharing time with the local community. With many members participating...",
                news2Title: "New Year Thanksgiving Service",
                news2Content: "The first Sunday of 2025, a gracious time to start the new year with gratitude to God...",
                news3Title: "Youth Retreat Notice",
                news3Content: "A special retreat for youth is prepared for February. We hope for many participants...",
                readMore: "Read More",
                viewAllNews: "View All News",
                resources: "Resources",
                christianArticles: "Christian Articles",
                article1: "Social Role of Modern Christianity",
                article2: "Connecting Church and Community",
                article3: "Importance of Youth Faith Education",
                article4: "Recovery of Family Worship",
                moreArticles: "View More Articles",
                theologyPapers: "Theology Papers",
                paper1: "Reformation and Modern Church",
                paper2: "Biblical Hermeneutics Research",
                paper3: "Development of Pastoral Counseling",
                paper4: "Missiology and Cultural Adaptation",
                morePapers: "View Paper List",
                downloads: "Downloads",
                bulletin: "Bulletin (This Week)",
                studyMaterial: "Bible Study Materials",
                hymnSheet: "Hymn Sheets",
                yearlySchedule: "Annual Event Schedule",
                footerDescription: "A church that practices God's love and\ngrows together with the local community",
                serviceTime: "Service Times",
                sundayService: "Sunday Service: Sunday 11:00 AM",
                afternoonService: "Afternoon Service: Sunday 2:00 PM",
                dawnPrayer: "Dawn Prayer: Sunday 4:00 AM",
                contact: "Contact",
                quickLinks: "Quick Links",
                onlineDonation: "Online Donation",
                copyright: "© 2025 Osan Daegwang Church & DGM TV. All rights reserved."
            }
        };

        let currentLanguage = 'ko';
        let currentChannel = 'osandaegwang';
        const API_KEY = 'AIzaSyBFCqjGEVMSpl9O3RceOuibQFI0_ZeEV6Q';
        
        const CHANNELS = {
            'osandaegwang': 'UCcwM7j_1eMYRkFMrjUPVPRw',
            'dgmtv': 'UCARlnnL9L0Y6ZTxeVAV6j0g'
        };

        const CHANNEL_KEYWORDS = {
            'osandaegwang': {
                worship: ['주일', '오후예배'],
                sermon: ['[KR/EN/JP/CN Sub]'],
                podcast: ['신앙톡'],
                ukulele: ['우쿨', '필레오'],
                quiz: ['퀴즈'],
                meditation: ['오늘, 한 말씀 한 기도']
            },
            'dgmtv': {
                worship: ['주일', '오후예배'],
                sermon: ['Sermon'],
                podcast: ['FaithTalk'],
                ukulele: ['우쿨', '필레오'],
                quiz: ['Trivia'],
                meditation: ['One Verse, One Prayer']
            }
        };

        // 캐시 시스템
        const videoCache = new Map();
        let lastAPICall = 0;
        const MIN_INTERVAL = 2000;

        // 팝업 관리
        function checkForPopup() {
            const popupData = JSON.parse(localStorage.getItem('sitePopup') || '{}');
            const dontShowToday = localStorage.getItem('dontShowPopupToday');
            const today = new Date().toDateString();
            
            if (popupData.enabled && (!dontShowToday || dontShowToday !== today)) {
                document.getElementById('popupTitle').textContent = popupData.title || '공지사항';
                document.getElementById('popupContent').innerHTML = popupData.content || '중요한 공지사항이 있습니다.';
                document.getElementById('sitePopup').style.display = 'block';
            }
        }

        function closeSitePopup() {
            document.getElementById('sitePopup').style.display = 'none';
        }

        function dontShowToday() {
            const today = new Date().toDateString();
            localStorage.setItem('dontShowPopupToday', today);
            closeSitePopup();
        }

        // 온라인 헌금 모달
        function openDonationModal() {
            document.getElementById('donationModal').style.display = 'block';
        }

        function closeDonationModal() {
            document.getElementById('donationModal').style.display = 'none';
        }

        function copyAccountNumber() {
            navigator.clipboard.writeText('170354-55-000829').then(function() {
                showToast('계좌번호가 복사되었습니다!');
            });
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            toastMessage.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // 언어 변경
        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // 버튼 상태 업데이트
            document.getElementById('koBtn').classList.toggle('active', lang === 'ko');
            document.getElementById('enBtn').classList.toggle('active', lang === 'en');
            
            // 번역 적용
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang][key]) {
                    if (key === 'footerDescription') {
                        element.innerHTML = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            // 영상 다시 로드
            loadVideos();
        }

        // 채널 전환 (포커스 제거)
        function switchChannel(channel) {
            currentChannel = channel;
            
            // 채널 버튼에서 포커스 제거
            document.getElementById('osandaegwangBtn').blur();
            document.getElementById('dgmtvBtn').blur();
            
            // 버튼 상태 업데이트
            const osandaegwangBtn = document.getElementById('osandaegwangBtn');
            const dgmtvBtn = document.getElementById('dgmtvBtn');
            
            if (channel === 'osandaegwang') {
                osandaegwangBtn.className = 'channel-button px-8 py-3 rounded-lg bg-indigo-600 text-white font-semibold transition hover:bg-indigo-700';
                dgmtvBtn.className = 'channel-button px-8 py-3 rounded-lg bg-gray-200 text-gray-700 font-semibold transition hover:bg-gray-300';
            } else {
                osandaegwangBtn.className = 'channel-button px-8 py-3 rounded-lg bg-gray-200 text-gray-700 font-semibold transition hover:bg-gray-300';
                dgmtvBtn.className = 'channel-button px-8 py-3 rounded-lg bg-indigo-600 text-white font-semibold transition hover:bg-indigo-700';
            }
            
            loadVideos();
        }

        // 탭 전환 - 강화된 활성화 표시
        function showTab(tabName) {
            console.log(`🔄 탭 전환: ${tabName}`);
            
            // 모든 탭 컨텐츠 숨기기
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // 모든 버튼 비활성화
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
                button.blur(); // 포커스 제거
            });
            
            // 선택된 탭 보이기
            const selectedTab = document.getElementById(tabName);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }
            
            // 클릭된 버튼 활성화
            if (event && event.target && event.target.closest) {
                const clickedButton = event.target.closest('.tab-button');
                if (clickedButton) {
                    clickedButton.classList.add('active');
                    clickedButton.blur(); // 포커스 제거
                    console.log(`✅ ${tabName} 탭 활성화 완료`);
                }
            }
        }

        // 영상 로드 (캐싱 + API 절약)
        async function loadVideos() {
            const channelId = CHANNELS[currentChannel];
            const cacheKey = `${currentChannel}_videos`;
            
            // 캐시에서 확인
            if (videoCache.has(cacheKey)) {
                console.log('🔄 캐시에서 영상 로드');
                const cachedVideos = videoCache.get(cacheKey);
                displayAllVideos(cachedVideos);
                return;
            }
            
            try {
                // API 호출 간격 제한
                const now = Date.now();
                if (now - lastAPICall < MIN_INTERVAL) {
                    console.log('⏳ API 호출 대기 중...');
                    await new Promise(resolve => setTimeout(resolve, MIN_INTERVAL));
                }
                lastAPICall = Date.now();
                
                console.log(`🌐 ${currentChannel} 채널 API 호출`);
                
                const response = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${channelId}&part=snippet&order=date&maxResults=12&type=video`);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                
                if (data.error) {
                    console.error('❌ YouTube API 오류:', data.error);
                    showAPIError(data.error.message);
                    return;
                }
                
                if (data.items && data.items.length > 0) {
                    console.log(`✅ ${data.items.length}개 영상 로드 성공!`);
                    videoCache.set(cacheKey, data.items); // 캐시에 저장
                    displayAllVideos(data.items);
                } else {
                    console.log('⚠️ 해당 채널에 영상이 없습니다');
                    showNoVideosMessage();
                }
                
            } catch (error) {
                console.error('❌ API 호출 실패:', error);
                showAPIError(error.message);
            }
        }

        // 모든 카테고리에 영상 배분 (2개씩)
        function displayAllVideos(videos) {
            const categories = ['worship', 'sermon', 'podcast', 'ukulele', 'quiz', 'meditation'];
            const videosPerCategory = 2;
            
            categories.forEach((category, index) => {
                const startIndex = index * videosPerCategory;
                const categoryVideos = videos.slice(startIndex, startIndex + videosPerCategory);
                displayCategoryVideos(category, categoryVideos);
            });
        }

        function displayCategoryVideos(category, videos) {
            const container = document.getElementById(category + 'Videos');
            
            if (videos.length === 0) {
                const noVideosText = currentLanguage === 'ko' ? '해당 카테고리의 영상이 없습니다.' : 'No videos in this category.';
                container.innerHTML = `
                    <div class="col-span-full text-center py-8">
                        <i class="fas fa-video-slash text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600">${noVideosText}</p>
                    </div>
                `;
                return;
            }

            const watchText = currentLanguage === 'ko' ? '▶ 영상보기' : '▶ Watch Video';
            const videoCards = videos.map(video => `
                <div class="bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300">
                    <div class="aspect-video relative group">
                        <img src="${video.snippet.thumbnails.medium.url}" 
                             alt="${video.snippet.title}" 
                             class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                            <a href="https://www.youtube.com/watch?v=${video.id.videoId}" 
                               target="_blank" 
                               class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-semibold transition">
                                ${watchText}
                            </a>
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="font-semibold text-gray-800 line-clamp-2 text-sm">${video.snippet.title}</h3>
                        <p class="text-xs text-gray-500 mt-1">${formatDate(video.snippet.publishedAt)}</p>
                    </div>
                </div>
            `).join('');

            container.innerHTML = videoCards;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) return currentLanguage === 'ko' ? '1일 전' : '1 day ago';
            if (diffDays < 7) return currentLanguage === 'ko' ? `${diffDays}일 전` : `${diffDays} days ago`;
            if (diffDays < 30) {
                const weeks = Math.floor(diffDays / 7);
                return currentLanguage === 'ko' ? `${weeks}주 전` : `${weeks} weeks ago`;
            }
            
            return date.toLocaleDateString(currentLanguage === 'ko' ? 'ko-KR' : 'en-US');
        }

        function showAPIError(errorMessage) {
            const categories = ['worship', 'sermon', 'podcast', 'ukulele', 'quiz', 'meditation'];
            
            categories.forEach(category => {
                const container = document.getElementById(category + 'Videos');
                container.innerHTML = `
                    <div class="col-span-full text-center py-8">
                        <i class="fas fa-exclamation-triangle text-4xl text-red-400 mb-4"></i>
                        <p class="text-red-600 font-semibold mb-2">API 연결 오류</p>
                        <p class="text-gray-600 text-sm">${errorMessage}</p>
                        <button onclick="loadVideos()" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm">
                            다시 시도
                        </button>
                    </div>
                `;
            });
        }

        function showNoVideosMessage() {
            const categories = ['worship', 'sermon', 'podcast', 'ukulele', 'quiz', 'meditation'];
            const noVideosText = currentLanguage === 'ko' ? '해당 채널에 영상이 없습니다.' : 'No videos available for this channel.';
            
            categories.forEach(category => {
                const container = document.getElementById(category + 'Videos');
                container.innerHTML = `
                    <div class="col-span-full text-center py-8">
                        <i class="fas fa-video-slash text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600">${noVideosText}</p>
                    </div>
                `;
            });
        }

        // 모바일 메뉴
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        }

        // 부드러운 스크롤
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // 모달 외부 클릭시 닫기
        window.onclick = function(event) {
            const donationModal = document.getElementById('donationModal');
            const sitePopup = document.getElementById('sitePopup');
            
            if (event.target === donationModal) {
                closeDonationModal();
            }
            if (event.target === sitePopup) {
                closeSitePopup();
            }
        }

        // 초기화
        document.addEventListener('DOMContentLoaded', function() {
            checkForPopup();
            loadVideos();
            
            // 첫 번째 탭을 활성화 상태로 설정
            const firstTab = document.getElementById('worshipBtn');
            if (firstTab) {
                firstTab.classList.add('active');
            }
        });
    </script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDuNPvA1yHwqz%2FmvK0aQotQnSmX1fG9fiOIy5e2OZUxVFWjhDl8xDMzIfI1AQRgcYf80UBw0V7IMtf%2F7Y5CguvVlRsM1TXt%2BWmfLBPGS9DTvDexsWEF0aCFPc9X6Tj0nz5xfLVT8ql0PIVCuvi3INHog1o7Ao1%2FWI0jCJEo7Yu9bmzPLrbDCCkEyleizUYyNZQW3UJoNjQvbMnb90bh0fXP2Jl5v4%2B5gUswW4FUTrBtfLoQTZ2q9g8rlZCr164wk%2BLo2aymz3UXh%2BwWihYfw591w5QtvINGs0W1zgAW0V6DcNby3qzrVfWtmNFBBgZkdl0VaGEDynWJoG%2BQSLzlYGw7P1O8%2Brcgm55zmJCHbWQg0S%2BTCtwFIjUNzOfz74915arrbt7M2Uy0CUzVUTrfPV2PfgbN7A8L0YNEXyZ8dginuWdvzUnOfX89xX2Zg%2FahYsI9w60cb5wdXC8dPnRy8btsKMM3j%2Fy8tuQcMfs%2BoV58um6Ucqq0l51TyTTCHvYie0y2s8bFuYE5sZC4QkbHjy61g%3D";
        window.__genspark_locale = "ko-KR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDuNPvA1yHwqz/mvK0aQotQnSmX1fG9fiOIy5e2OZUxVFWjhDl8xDMzIfI1AQRgcYf80UBw0V7IMtf/7Y5CguvVlRsM1TXt+WmfLBPGS9DTvDexsWEF0aCFPc9X6Tj0nz5xfLVT8ql0PIVCuvi3INHog1o7Ao1/WI0jCJEo7Yu9bmzPLrbDCCkEyleizUYyNZQW3UJoNjQvbMnb90bh0fXP2Jl5v4+5gUswW4FUTrBtfLoQTZ2q9g8rlZCr164wk+Lo2aymz3UXh+wWihYfw591w5QtvINGs0W1zgAW0V6DcNby3qzrVfWtmNFBBgZkdl0VaGEDynWJoG+QSLzlYGw7P1O8+rcgm55zmJCHbWQg0S+TCtwFIjUNzOfz74915arrbt7M2Uy0CUzVUTrfPV2PfgbN7A8L0YNEXyZ8dginuWdvzUnOfX89xX2Zg/ahYsI9w60cb5wdXC8dPnRy8btsKMM3j/y8tuQcMfs+oV58um6Ucqq0l51TyTTCHvYie0y2s8bFuYE5sZC4QkbHjy61g=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    