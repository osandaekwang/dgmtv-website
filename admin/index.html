<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DGMTV CMS 관리자</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- 로딩 화면 -->
    <div id="loading" class="loading-screen">
        <div class="text-center text-white">
            <div class="spinner mb-4 mx-auto"></div>
            <div class="text-xl font-semibold mb-2">
                <i class="fas fa-church mr-2"></i>
                DGMTV CMS 로딩 중...
            </div>
            <div class="text-sm opacity-80">
                콘텐츠 관리 시스템을 준비하고 있습니다
            </div>
        </div>
    </div>

    <!-- Netlify CMS 컨테이너 -->
    <div id="nc-root"></div>

    <!-- Netlify CMS 스크립트 -->
    <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
    
    <script>
        // 로딩 화면 제거
        window.addEventListener('load', function() {
            setTimeout(function() {
                const loading = document.getElementById('loading');
                if (loading) {
                    loading.style.opacity = '0';
                    loading.style.transition = 'opacity 0.5s';
                    setTimeout(function() {
                        loading.style.display = 'none';
                    }, 500);
                }
            }, 1000);
        });

        // Netlify CMS 설정
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
                if (!user) {
                    window.netlifyIdentity.on("login", () => {
                        document.location.href = "/admin/";
                    });
                }
            });
        }

        // CMS 초기화 완료 후 커스텀 스타일링
        document.addEventListener('DOMContentLoaded', function() {
            // 페이지 제목 업데이트
            document.title = 'DGMTV CMS 관리자';
            
            // 커스텀 CSS 추가
            const style = document.createElement('style');
            style.textContent = `
                .css-1hw9j7s-AppHeaderButton {
                    background-color: #4f46e5 !important;
                }
                .css-12d2akr-AppHeader {
                    background-color: #312e81 !important;
                }
                .css-1t27dze-SidebarContainer {
                    background-color: #f8fafc !important;
                }
            `;
            document.head.appendChild(style);
        });
    </script>

    <!-- Netlify Identity Widget -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"94d172f9dec1e392","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.5.0","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDtg%2BmYkvh0QxxTGGTUnbUvREKs%2FF%2FwlCXv%2B5OC6BVCgrYXPWRvwgxduE%2FWf%2FJrYB5LrlDeZ1OhyrsLZ%2BFaCwOvQ0RJqikXHru0WTe%2B90ftTD%2FzmZBG2asOR5SMATFi%2BaAMVFjeol9YAUiXcawLD2Rl0BgUvM6pXD7pER9orQh6ZPHcBUTibrFDMu%2FuMZxNZQocvW%2BcASYBHmkdBah3RoYxWrBagEIdl8MfWjEOBJj7hVnmmE1hdgoC%2BQsvmlt3jetvHJLLGiZIlLuwZTPh0kJ2e7DNmIIDHfp%2Fv%2BmXGGvjfNRJWGUJG1ITTZZFHbbyPQ40EBVm05AcOdZTwgQgWFn6Da4nytyvglSSH89SonCo%2B5sxKDoWroxOaTx7FxK6L1duMPca8CiGBpclCIlA2ZRTidGmucEINrplfGaD1gwHXYd7gm2jePqQfkQKZ7MlficKXfjCDL1XsLTcy1Gw2u9jzB9RWBnaDcnIAu6n147jTWCHdsCuN9yzTF%2FrLM8D3k1A%3D%3D";
        window.__genspark_locale = "ko-KR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDtg+mYkvh0QxxTGGTUnbUvREKs/F/wlCXv+5OC6BVCgrYXPWRvwgxduE/Wf/JrYB5LrlDeZ1OhyrsLZ+FaCwOvQ0RJqikXHru0WTe+90ftTD/zmZBG2asOR5SMATFi+aAMVFjeol9YAUiXcawLD2Rl0BgUvM6pXD7pER9orQh6ZPHcBUTibrFDMu/uMZxNZQocvW+cASYBHmkdBah3RoYxWrBagEIdl8MfWjEOBJj7hVnmmE1hdgoC+Qsvmlt3jetvHJLLGiZIlLuwZTPh0kJ2e7DNmIIDHfp/v+mXGGvjfNRJWGUJG1ITTZZFHbbyPQ40EBVm05AcOdZTwgQgWFn6Da4nytyvglSSH89SonCo+5sxKDoWroxOaTx7FxK6L1duMPca8CiGBpclCIlA2ZRTidGmucEINrplfGaD1gwHXYd7gm2jePqQfkQKZ7MlficKXfjCDL1XsLTcy1Gw2u9jzB9RWBnaDcnIAu6n147jTWCHdsCuN9yzTF/rLM8D3k1A==";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    
